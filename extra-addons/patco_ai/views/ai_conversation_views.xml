<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="ai_conversation_view_tree" model="ir.ui.view">
            <field name="name">ai.conversation.list</field>
            <field name="model">ai.conversation</field>
            <field name="arch" type="xml">
                <list>
                    <field name="create_date"/>
                    <field name="user_id"/>
                    <field name="question"/>
                    <field name="answer"/>
                </list>
            </field>
        </record>
        <record id="ai_conversation_view_form" model="ir.ui.view">
            <field name="name">ai.conversation.form</field>
            <field name="model">ai.conversation</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="action_query_bot" type="object" string="Preguntar" class="oe_highlight"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="user_id" readonly="1"/>
                            <field name="question"/>
                            <field name="answer" readonly="1"/>
                        </group>
                        <group>
                            <field name="context_json" readonly="1"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="ai_conversation_action" model="ir.actions.act_window">
            <field name="name">Conversaciones IA</field>
            <field name="res_model">ai.conversation</field>
            <field name="view_mode">list,form</field>
            <field name="target">current</field>
        </record>
        <record id="maintenance_equipment_category_action_sync_checklists" model="ir.actions.server">
            <field name="name">Sync Checklists to RAG</field>
            <field name="model_id" ref="maintenance.model_maintenance_equipment_category"/>
            <field name="state">code</field>
            <field name="code">env['maintenance.equipment.category'].browse(active_id).action_sync_checklists_to_rag()</field>
        </record>
        <!-- Remove standalone app menu; expose only under Discuss via action or no menu at all -->
    </data>
</odoo>